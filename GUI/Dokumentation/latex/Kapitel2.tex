\section{Systeme reduzieren}
Abb.3
\subsection{System auswählen}%"`refresh"'
Das zu reduzierende Modell muss in der Dropdown-Liste ausgewählt werden. Es erscheinen nun einige Informationen darüber im Textfeld daneben. Falls die Liste nicht mehr auf dem neuesten Stand sein sollte, kann sie über \includegraphics[height=12pt,keepaspectratio]{Abbildungen/pb_refresh}  aktualisiert werden.
\subsection{Reduktionsmethode wählen}
Die GUI unterstüzt drei Reduktionsmethoden: Balanciertes Abschneiden, Modal, und Krylov. Die gewünschte Methode kann bei "`Reduction Method"'  ausgwählt werden.

Bei allen unterstüzten Reduktionmethoden wird das System
\begin{align*}
\mathbf{E \dot{x}}= &\mathbf{A x} + \mathbf{B u} \\
\mathbf{y}=  &\mathbf{C x} + \mathbf{Du}
\end{align*}
durch Multiplikation mit den Projektionsmatrizen $\mathbf{W}^T \in \mathbb{R} ^{q\times n}$ und $\mathbf{V} \in \mathbb{R} ^{n\times q}$
\begin{align*}
\overbrace{\mathbf{W}^T\mathbf{E V}}^{\mathbf{E}_r}\mathbf{ \dot{x}}_r= &\overbrace{\mathbf{W}^T\mathbf{A V}}^{\mathbf{A}_r}\mathbf{ x}_r + \overbrace{\mathbf{W}^T}^{\mathbf{B}_r}\mathbf{B u} \\
\mathbf{y}=  &\underbrace{\mathbf{C V}}_{\mathbf{C}_r}\mathbf{ x}_r + \mathbf{Du}
\end{align*}
auf die Ordnung \textit{q} reduziert.

\subsubsection{TBR -- Balanciertes Abschneiden}%
\begin{figure}[htb]
\noindent\includegraphics[width=\linewidth,keepaspectratio]{Abbildungen/tab_tbr}%
\caption{Tab Model Order Reduction -- TBR}
\end{figure}
Beim balancierten Abschneiden werden die Transformationsmatrizen so gewählt, dass das System in einem Schritt balanciert und reduziert wird. Balancieren bedeutet das System so zu transformieren, dass jeder Zustand gleich gut steuer- und beobachtbar ist und die Zustände nach ihrer Steuer- bzw. Beobachtbarkeit sortiert sind.  Beim Reduzieren werden dann weniger steuer- und beobachtbare Zustände abgeschnitten.
Zur Beurteilung von Steuer- und Beobachtbarkeit werden die Gram'sche Steuerbarkeitsmatrix und die Gram'sche Beobachtbarkeitsmatrix herangezogen. Diese sind folgendermaßen definiert:
\begin{eqnarray*}
\mathbf{P}= \int \limits^{\infty}_{0} e^{\mathbf{A}t}\mathbf{bb}^Te^{\mathbf{A}^Tt} \,dt & ~ & \mbox{\textit{Gram'sche Steuerbarkeitsmatrix},}\\
\mathbf{Q}= \int \limits^{\infty}_{0} e^{\mathbf{A}^Tt}\mathbf{c}^T\mathbf{c}e^{\mathbf{A}t} \,dt & ~ & \mbox{\textit{Gram'sche Beobachtbarkeitsmatrix}.}
\end{eqnarray*}
Für ein vollständig steuer- und beobachtbares System existiert eine balancierte Darstellung in der gilt:
$$ \mathbf{P}=\mathbf{Q}=diag(\sigma_1, \sigma_2,...,\sigma_n)$$
Die $\sigma_i$ werden als Hankel'sche Singulärwerte (HSV) bezeichnet. 

Sie müssen berechnet werden, bevor eine Reduktion möglich ist. Die Berechnung kann über "`Calculate HSV"' gestartet werden und dauert bei größeren Systmen einige Zeit, da zwei Lyapunov Gleichungen gelöst werden müssen. Nach der Berechnung werden die HSV in einem Diagramm dargestellt und außerdem in dem Feld "`hsv"' des Systems abgelegt. Die y-Achse des Diagramms kann entweder logarithmisch, oder linear skaliert werden. Ein Wechsel zwischen den Skalierungen ist über die ist über die Radiobuttons im "`Choose yaxis"' Feld möglich.
Die Wahl der Ordnung des reduzierten Systems kann auf drei Wegen geschehen. Entweder über den Schieber, durch die Eingabe im Textfeld daneben, oder durch klicken im Diagramm. Es erscheint ein roter Balken im Diagramm, welcher zeigt, welche Singulärwerte abgeschnitten werden. Außerdem werden die Fehlergrenzen der $\mathcal{H}_\infty$ Norm neben dem Diagramm angezeigt. (siehe Abb.3)

%Die Reduktion wird mit \includegraphics[height=12pt,keepaspectratio]{Abbildungen/pb_reduce} gestartet und geht sehr schnell, da alle aufwändigeren Berechnungen bereits mit der Berechnug der HSV erfolgt sind.

\subsubsection{Modal}
Bei der modalen Reduktion wird das Orginalsystem auf den Raum projeziert, der durch einige Eigenvektoren aufgespannt wird. Die Zahl der Eigenvektoren wird durch die Ordnung des reduzierten Systems festgelegt. Dies kann entweder durch den Schieber oder durch Eingabe im Textfeld neben dem Schieber geschehen. Für die Wahl der Eigenvektoren, bzw der zugehörigen Eigenwerte gibt es drei Möglichkeiten:
\begin {enumerate}
\item Eigenwerte mit dem größten Betrag
\item Eigenwerte mit dem kleinsten Betrag
\item Eigenwerte in der Nähe eines Punktes
\end{enumerate}
\begin{figure}[htb]
\noindent\includegraphics[width=\linewidth,keepaspectratio]{Abbildungen/tab_modal}%
\caption{Tab Model Order Reduction -- Modal}
\end{figure}
Die Wahl wird über den Radiobutton getroffen. Gegebenenfalls muss ein Punkt eingegeben werden (siehe Abb. 4).

\subsubsection{Krylov}
Bei den Krylov-Unterraum Methoden werden die Transformationsmatrizen als Basen des Eingangs-Krylov-Unterraums und/oder als Basen des Ausgangs-Krylov-Unterraums gewählt. Diese Auswahl wird unter \includegraphics[height=12pt,keepaspectratio]{Abbildungen/choose_mom} getroffen.
% momente definieren?

Der Krylov-Unterraum $K_q$ der Matrix \textbf{A} und des Vektors \textbf{x} ist definiert als:
$$K_q(\mathbf{A,x})=\mathit{span} \{\mathbf{x,Ax,A}^2\mathbf{x,...,A}^{q-1}\mathbf{x}\}. $$
Der Eingangs-Krylov-Unterraum um $s_0$ ist definiert als:
$$K_q((\mathbf{A}-s_0\mathbf{I}^{-1},(\mathbf{A}-s_0\mathbf{I})^{-1}\mathbf{b}), $$
der Ausgangs-Krylov-Unterraum um $s_0$ als:
$$K_q((\mathbf{A}-s_0\mathbf{I}^{-T},(\mathbf{A}-s_0\mathbf{I})^{-T}\mathbf{c}^T). $$
\paragraph{Explizit}
\begin{figure}[htb]
\noindent\includegraphics[width=\linewidth,keepaspectratio]{Abbildungen/tab_explicit}%
\caption{Tab Model Order Reduction -- Krylov, explicit}%
\end{figure}%
(Abb.5) Der Nutzer hat die Wahl, ob ein Entwicklungspunkt, oder mehrere gewählt werden sollen. 

Bei einem Entwicklungspunkt muss die Ordnung des reduzierten Systems über den Slider "`Order of reduced System"' festgelegt werden, oder über das Textfeld daneben. Der Entwicklungspunkt muss reell sein und in der Box "`Choice of expansion point"' eingegeben werden.

Mehrere Entwicklungspunkte werden in die Tabelle in der Box "`Choice of expansion points"' eingegeben, die erscheint, sobald von einem auf mehrere Entwicklungspunkte umgestellt wurde. Es besteht die Möglichkeit einen zweidimensionalen Vektor aus dem Workspace zu verwenden. Ein in Frage kommender Vektor kann aus der Dropdown-Liste "`Import vector from workspace"' ausgewählt werden. Ansonsten müssen Entwicklungspunkte in der Spalte "`exp pt"' und die zugehörige Zahl der zu matchenden Momente in der Spalte "`match mom"' eingetragen werden. Weitere Zeilen können über "`Add row"' hinzugefügt werden. Mit "`reset"' werden alle Entwicklungspunkte gelöscht. Bei der Eingabe werden gleiche Punkte automatisch zusammen gefasst. Außerdem wird ein komplexer Punkt automatisch zu einem konjugiert-komplexen Punktepaar erweitert und die Zahl der zu matchenden Momente angepasst. Die Ordnung des reduzierten Systems wird automatisch über die Momente festgelegt.


\paragraph{ICOP}

\begin{figure}[htb]
\noindent\includegraphics[width=\linewidth,keepaspectratio]{Abbildungen/tab_ICOP}%
\caption{Tab Model Order Reduction -- Krylov, ICOP}%
\end{figure}%
ist ein Algorithmus, der den optimalen Entwicklungspunkt iterativ bestimmt. (Abb.6) Dieser benötigt einen Startpunkt, in der "`Choice of expansion point"' Box angegeben wird. Außerdem kann der Nutzer entscheiden, ob Momente um den Krylov-Eingangs- oder -Ausgangs-Unterraum, oder beides gematcht werden sollen.
\paragraph{IRKA}
\begin{figure}[htb]
\noindent\includegraphics[width=\linewidth,keepaspectratio]{Abbildungen/tab_IRKA}%
\caption{Tab Model Order Reduction -- Krylov, IRKA}%
\end{figure}%
ist ebenfalls ein Algorithmus zur Bestimmung von optimalen Entwicklungspunkten. Als Startpunkt kann entweder ein Punkt, oder verschiedene übergeben werden. Allerdings werden Momente immer beidseitig gematcht. (Abb.7)
\paragraph{}
Die Wahl und Eingabe von Entwicklungspunkt(en) erfolgt bei IRKA und ICOP wie bei "`explizit"'.
\subsection{Reduzieren}%"`Save W"'"`Save V"'"`Reduce system"'
Nachdem, gemäß der oben beschriebenen Möglichkeiten, alle Schritte erfolgt sind, muss ein Name für das reduzierte System ausgewählt werden und in das Feld "`Name of reduced System"' eingetragen werden. Es besteht außerdem die Option die Transformationsmatrizen W und V im Workspace abzulegen. Dazu müssen die Kontrollkästchen \includegraphics[height=12pt,keepaspectratio]{Abbildungen/cb_savew} bzw. \includegraphics[height=12pt,keepaspectratio]{Abbildungen/cb_savev} aktiviert und Variablennamen eingegeben werden.
Nun kann die Reduktion über \includegraphics[height=12pt,keepaspectratio]{Abbildungen/pb_reduce} gestartet werden. Dieser Vorgang kann, je nach gewählter Methode und Systemgröße, einige Zeit in Anspruch nehmen. Nach der erfolgreichen Reduktion erscheint eine Meldung.